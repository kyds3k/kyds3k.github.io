/*! Adam Darby - Portfolio v0.0.1 | (c) 2020 Adam Darby | MIT License | https://github.com/kyds3k/portfolio */
function scrobbleScribble(t){getTracks(t).then(t=>{$(".current-artist").html(),$(".current-track").html();let e=t.recenttracks.track[0].image[2]["#text"],r=t.recenttracks.track[0].artist.name,a=t.recenttracks.track[0].name,s=(t.recenttracks.track[0].album["#text"],r.replace(/\s/g,"+")),n=a.replace(/\s/g,"+"),i=encodeURI(n),c=new TypeIt(".current-track",{strings:`<a href="https://www.last.fm/music/${s}/_/${i}" target="_blank">${a}</a>`,speed:50,waitUntilVisible:!1,startDelay:1200,afterComplete:t=>{$(".current-track").find(".ti-cursor").addClass("is-hidden"),l.go()}}),l=new TypeIt(".current-artist",{strings:`<a href="https://www.last.fm/music/${s}" target="_blank">${r}</a>`,speed:50,waitUntilVisible:!1,afterComplete:t=>{$(".current-artist").find(".ti-cursor").addClass("is-hidden")}});"https://lastfm.freetls.fastly.net/i/u/174s/2a96cbd8b46e442fc41c2b86b821562f.png"!==e&&""!==e||(e="images/cassette-smaller.gif"),$(".album-image img").attr("src",e).attr("alt",r+" - "+a),c.go()})}async function getTracks(t){try{let e=await fetch(`https://ws.audioscrobbler.com/2.0?method=user.getRecentTracks&limit=1&user=${t}&api_key=70d032701f2e8602243e3915d6d25980&&format=json&extended=1`);return await e.json()}catch(t){$(".current-artist").html("An error occurred.")}}function typeOut(t,e,r){new TypeIt(t,{strings:e,speed:50,startDelay:r,waitUntilVisible:!0,afterComplete:e=>{$(t).find(".ti-cursor").addClass("is-hidden")}}).go()}function randomIntFromInterval(t,e){return Math.floor(Math.random()*(e-t+1)+t)}$(document).ready(function(){let t=document.getElementsByClassName("vid-me")[0];t.addEventListener("mouseover",function(){t.readyState>2&&this.play()}),t.addEventListener("mouseout",function(){t.readyState>2&&(this.pause(),this.currentTime=0)});let e=document.getElementsByClassName("skill");Array.from(e).forEach((t,e)=>{setTimeout(function(){let e=t.dataset.percent;$(t).css("width",e+"%")},250*e)}),scrobbleScribble("kyds3k");setInterval(function(){scrobbleScribble("kyds3k")},18e4);typeOut(".audio-selection","Current audio selection:",250);let r=document.getElementsByClassName("eq-line"),a=r.length;setInterval(function(){for(let t=0;t<a;t++){let e=randomIntFromInterval(10,100);r[t].style.height=e+"%"}},100);$(".album-image img").click(function(){let t=$("body").hasClass("blue")?"green":"blue";$("body").removeClass().addClass(t)})});